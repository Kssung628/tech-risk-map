<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Technology Risk Governance Integrated Map</title>

  <style>
    :root{
      --bg:#0b0f17;
      --line:#1f2937;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --card:#0f172a;
    }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", Arial;
      background: var(--bg);
      color: var(--text);
    }
    header{
      padding: 18px 16px;
      border-bottom: 1px solid var(--line);
      background: rgba(17,24,39,.55);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .wrap{ max-width: 1200px; margin: 0 auto; }
    h1{ margin:0 0 6px 0; font-size: 18px; }
    .subtitle{ color: var(--muted); font-size: 13px; line-height: 1.5; }

    main{ padding: 16px; }
    .grid{
      display:grid;
      grid-template-columns: 1.5fr .9fr;
      gap: 14px;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      header{ position: relative; }
    }
    .card{
      background: rgba(15,23,42,.7);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
    }
    .card h2{ margin:0 0 8px 0; font-size: 14px; }
    .note{ margin: 0 0 10px 0; color: var(--muted); font-size: 13px; line-height: 1.6; }

    .diagram{
      overflow:auto;
      border-radius: 12px;
      border: 1px dashed rgba(148,163,184,.28);
      padding: 10px;
      background: rgba(2,6,23,.45);
    }
    .mermaid svg{ max-width: 100%; height: auto; }

    .list{ display:flex; flex-direction: column; gap: 10px; }
    .item{
      border: 1px solid var(--line);
      background: rgba(2,6,23,.35);
      border-radius: 12px;
      padding: 10px;
    }
    .k{ font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .v{ font-size: 13px; line-height: 1.6; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>

  <!-- Mermaid v10+ (ESM) -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

    mermaid.initialize({
      startOnLoad: true,
      securityLevel: "loose",   // 允許 click / JS callback
      theme: "dark",
      themeVariables: {
        darkMode: true,
        fontFamily: 'ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", Arial',
        primaryColor: "#0b1220",
        primaryTextColor: "#e5e7eb",
        primaryBorderColor: "#334155",
        lineColor: "#64748b",
      },
      flowchart: { curve: "basis" }
    });
  </script>
</head>

<body>
<header>
  <div class="wrap">
    <h1>科技風險治理整合總圖（點節點 → 打開 Notion）</h1>
    <div class="subtitle">
      你只要把右側「Notion 連結表」的網址填上，圖上的節點就會直接開啟對應 Notion 頁面（新分頁）。
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid">
    <div class="card">
      <h2>整體結構圖（六層治理架構）</h2>
      <p class="note">
        節點示範：EU AI Act / DORA / ISO 42001 / NIST AI RMF / 台灣 AI 基本法…<br/>
        點擊節點會依照右側連結表開 Notion 頁。
      </p>

      <div class="diagram">
        <div class="mermaid">
flowchart TB
  classDef soft fill:#0b1220,stroke:#334155,stroke-width:1px,color:#e5e7eb;
  classDef law fill:#111827,stroke:#64748b,stroke-width:1px,color:#e5e7eb;
  classDef sys fill:#0f172a,stroke:#60a5fa,stroke-width:1px,color:#e5e7eb;
  classDef fw fill:#0b1220,stroke:#a78bfa,stroke-width:1px,color:#e5e7eb;

  L1["Layer 1<br/>價值/原則層<br/>OECD / UNESCO / G7"]:::soft
  L2["Layer 2<br/>強制法律/監管層<br/>EU AI Act / DORA / NIS2 / CRA / GDPR<br/>台灣：AI基本法 / 資安法 / 個資法"]:::law
  L3["Layer 3<br/>管理系統層<br/>ISO 42001 / ISO 23894 / ISO 27001/27701 / ISO 22301"]:::sys
  L4["Layer 4<br/>操作框架層<br/>NIST AI RMF / NIST CSF 2.0 / RMF / 800-53"]:::fw

  L1 --> L2 --> L3 --> L4

  L2 --> EU["EU AI Act"]:::law
  L2 --> DORA["DORA"]:::law
  L2 --> GDPR["GDPR"]:::law
  L2 --> TWAI["台灣：AI基本法"]:::law
  L2 --> TWCS["台灣：資安管理法"]:::law
  L2 --> TWPD["台灣：個資法/PDPC"]:::law

  L3 --> ISO42001["ISO/IEC 42001"]:::sys
  L3 --> ISO23894["ISO/IEC 23894"]:::sys
  L3 --> ISO27001["ISO/IEC 27001"]:::sys
  L3 --> ISO27701["ISO/IEC 27701"]:::sys
  L3 --> ISO22301["ISO 22301"]:::sys

  L4 --> NAI["NIST AI RMF"]:::fw
  L4 --> NCSF["NIST CSF 2.0"]:::fw

  %% click -> open notion
  click EU call __open("EU_AI_ACT") "Open Notion: EU AI Act"
  click DORA call __open("DORA") "Open Notion: DORA"
  click GDPR call __open("GDPR") "Open Notion: GDPR"
  click ISO42001 call __open("ISO_42001") "Open Notion: ISO/IEC 42001"
  click ISO23894 call __open("ISO_23894") "Open Notion: ISO/IEC 23894"
  click ISO27001 call __open("ISO_27001") "Open Notion: ISO/IEC 27001"
  click ISO27701 call __open("ISO_27701") "Open Notion: ISO/IEC 27701"
  click ISO22301 call __open("ISO_22301") "Open Notion: ISO 22301"
  click NAI call __open("NIST_AI_RMF") "Open Notion: NIST AI RMF"
  click NCSF call __open("NIST_CSF_2") "Open Notion: NIST CSF 2.0"
  click TWAI call __open("TW_AI_ACT") "Open Notion: 台灣 AI 基本法"
  click TWCS call __open("TW_CYBER_ACT") "Open Notion: 台灣 資安管理法"
  click TWPD call __open("TW_PDPA_PDPC") "Open Notion: 台灣 個資法/PDPC"
        </div>
      </div>
    </div>

    <aside class="card">
      <h2>Notion 連結表（你要填的地方）</h2>
      <p class="note">
        把每個 KEY 對應的網址換成你的 Notion 公開頁連結。<br/>
        未填的 KEY 會跳出提醒。
      </p>

      <div class="list">
        <div class="item">
          <div class="k">如何取得連結</div>
          <div class="v">
            Notion 頁右上角 Share → 開啟 <span class="mono">Share to web</span> → Copy link。
          </div>
        </div>

        <div class="item">
          <div class="k">要填的 KEY（範例）</div>
          <div class="v mono">
EU_AI_ACT, DORA, GDPR, ISO_42001, ISO_23894, ISO_27001, ISO_27701, ISO_22301,<br/>
NIST_AI_RMF, NIST_CSF_2, TW_AI_ACT, TW_CYBER_ACT, TW_PDPA_PDPC
          </div>
        </div>

        <div class="item">
          <div class="k">你可以先只填 3–5 個，逐步擴充</div>
          <div class="v">例如先填：EU AI Act、DORA、NIST AI RMF、ISO 42001、台灣 AI 基本法。</div>
        </div>
      </div>
    </aside>
  </div>
</main>

<script>
  // 1) 在這裡填入你的 Notion 公開頁網址
  const NOTION_LINKS = {
    // EU / International
    EU_AI_ACT: "PASTE_NOTION_LINK_HERE",
    DORA: "PASTE_NOTION_LINK_HERE",
    GDPR: "PASTE_NOTION_LINK_HERE",

    // ISO
    ISO_42001: "PASTE_NOTION_LINK_HERE",
    ISO_23894: "PASTE_NOTION_LINK_HERE",
    ISO_27001: "PASTE_NOTION_LINK_HERE",
    ISO_27701: "PASTE_NOTION_LINK_HERE",
    ISO_22301: "PASTE_NOTION_LINK_HERE",

    // NIST
    NIST_AI_RMF: "PASTE_NOTION_LINK_HERE",
    NIST_CSF_2: "PASTE_NOTION_LINK_HERE",

    // Taiwan
    TW_AI_ACT: "PASTE_NOTION_LINK_HERE",
    TW_CYBER_ACT: "PASTE_NOTION_LINK_HERE",
    TW_PDPA_PDPC: "PASTE_NOTION_LINK_HERE",
  };

  // 2) Mermaid click 會呼叫這個 function
  window.__open = (key) => {
    const url = NOTION_LINKS[key];
    if (!url || url.includes("PASTE_NOTION_LINK_HERE")) {
      alert(`尚未設定 Notion 連結：${key}\n請在 NOTION_LINKS 物件中貼上對應 Notion 公開頁網址。`);
      return;
    }
    window.open(url, "_blank", "noopener,noreferrer");
  };
</script>

</body>
</html>
